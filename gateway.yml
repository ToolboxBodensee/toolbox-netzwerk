---

- name: secure access to toolbox gateway
  hosts: router
  tags:
  - access
  - ssh
  - auth
  roles:
   - ssh-auth
   - sshd
  vars:
    - ansible_ssh_user: 'root'

- name: install some fancy packages
  hosts: router
  tags:
  - setup
  - base
  roles:
   - base-packages
  vars: 
    - ansible_ssh_user: 'root'

- name: create a fancy feature complete home
  hosts: router
  tags:
  - setup
  - base
  - home
  roles:
   - dotfiles
   - install-bat

- name: configure the basic network
  hosts: router
  tags:
  - setup
  - network
  - ip
  roles:
   - networking
   - resolver
   - sysctl

- name: configure basic routing and firewall (e.g. NAT)
  hosts: router
  tags:
  - setup
  - network
  - routing
  roles:
   - ferm

- name: configure router services -> pppoe
  hosts: router
  tags:
  - network
  - pppoe
  - dsl
  - telekom
  roles:
   - pppoe

- name: configure router services -> dns
  hosts: router
  tags:
  - network
  - dns
  - unbound
  roles:
   - tb-unbound

- name: configure router services -> dhcpd
  hosts: router
  tags:
  - network
  - dhcp
  - dhcpd
  - isc-dhcp-server
  - dhcp-server
  roles:
   - dhcpd




